---
title: "Final assignment: C9-W4-Shiny Application HTML slides."
date: "June 8, 2019"
output: html
framework : io2012
widgets : mathjax
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo=TRUE, message=F, warning=F, cache=F)
```

## What is the Assignment about

- This assignment is about **Simulation of the confidence interval
  bands**, which helps us understand the use of Standard Error instead
  of Standard deviation.

- **Example**: In India, every year elections are held. It would be very
  handy to understand the population probability to vote for a
  candidate.
  
	  - In this case, we would take a sample and estimate if the
	 population probability lies within the 95% confidence bands of
	 sample probability.

- For this we need the **Population Standard Deviation**, which is usually
  not available.
  
- So we use the sample **Standard error**. 

- With this assignment simulation we try to see how good this
  estimation is.

## Code 

The code is available in this [github repository](https://github.com/agent18/c9-w4-coursera) which was made for
this course. The files are huge and hence there is not much point
showing them here.

The two important files:

- **ui.R** contains the user interface skeleton of the webpage
- **server.R** contains the backend and all calculations


## Server Calculation Explanation

<!-- ![alt text](https://github.com/agent18/c9-w4-coursera/blob/master/images/graph.png "Logo Title Text 1") -->
- The server calculates based on the parameters below:
	- population probability (p)
	- Confidence Interval (CI)
	- Number of samples (N)
	- number of draws/sample(n)
- The server makes a plot of the confidence band of each sample
  
	  - It also calculates the percentage when the population probability is
  within the confidence bands of the sample.

- For the above the main formula is the Standard error with

	$SE=\sqrt{\frac{(1-p)p}{n}}$

## Server calculation of number of hits!

```{r results="hide"  }
n=20;N=30; CI=95;p=0.6;
```

```{r }
df <- data.frame(matrix(nrow=N,ncol=6))
colnames(df) <- c("hits","pHat","pSD","pHatMax","pHatMin","no.sample")
        
for (i in 1:N){
    x <- rbinom(n,size=1,prob=p)
    pHat <- mean(x); pSD <- sqrt(pHat*(1-pHat)/n);
    CI.corrected <- ((100-CI)/2+CI)/100
    q <- qnorm(CI.corrected)
    pHatMax <- (pHat+q*pSD)
    pHatMin <- (pHat-q*pSD)
    hits <- pHatMax>p && pHatMin<p
    df[i,] <- list(hits,pHat,pSD,pHatMax,pHatMin,i)
}
sum(df[,1])/nrow(df)*100        

```


## Sources


1. [Khan academy explanation of Confidence Intervals](https://www.khanacademy.org/math/ap-statistics/estimating-confidence-ap/introduction-confidence-intervals/v/confidence-interval-simulation)
2. [Inspiration for the assignment](https://www.khanacademy.org/computer-programming/confidence-intervals-about-a-proportion/6167177771548672)

<!-- ## P.S -->

<!-- - This assignment took more than 15 hrs to conceptualize and make -->
<!-- - I use emacs text editor(instead of Rstudio) which is quite intense to setup with slidify -->
<!-- and knitr -->
<!-- - I tried to add pictures and some other things to this presentation, -->
<!--   but somehow there were issues compiling it and getting it to -->
<!--   work. Equations and formatting seem to work though! -->

